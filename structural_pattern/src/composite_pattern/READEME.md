# 组合模式
组合模式也叫部分-整体模式，相关联想到树的结构，可以很方便的管理层状结构

## 角色构成
- 抽象类
  - 定义叶子节点的方法
- 容器角色
  - 包含子节点，可以是叶子节点，也可以是容器节点
  - 访问和管理叶子节点
- 叶子角色
  - 实现抽象类定义的方法

## 透明组合模式
透明组合模式在抽象类中进行定义**管理叶子节点的方法**，即对客户显示出叶子对象和容器对象的方法一致。
(但是这就导致了不安全，叶子角色并没有访问子节点的功能)

## 安全组合模式
安全组合模式不在抽象类中定义管理叶子角色的方法，而是在**容器角色中定义**。（客户端无法管理叶子角色）

## 优缺点
- 优点
  - 对层级结构管理方便
  - 客户端调用简单
  - 使用了递归思想，树形结构
  - 在组合体中对象构件简单
- 缺点
  - 使设计更加抽象
  - 增加新构件容易出问题，对容器的构建类型限制难。
    - 因为叶子和容器来自相同的抽象层，只能运行时检查。