# 观察者模式
定义对象间的一种一对多依赖关系，当一个对象状态改变时，其相关依赖对象都得到通知并被自动更新。
观察者模式也叫做**发布-订阅模式**、**模型-视图模式**...
## 角色构成
- 目标角色
  - 被观察对象，关联一个抽象观察者集合
  - 定义attach(Observer observer)方法添加观察者
  - 定义detach(Observer observer)方法删除观察者
  - 定义notify(),通知方法。(复杂的需要)
- 具体目标角色
  - 目标角色的子类，被具体观察者对象所关联。(复杂的需要)
  - 当状态发生改变，通知其对应具体观察者。(复杂的需要)
- 抽象观察者角色
  - 定义更新数据的方法
- 具体观察者角色
  - 关联维护一个指向具体目标角色的引用(复杂的需要)
  - 实现抽象观察者定义的更新数据的方法

复杂的系统需要将观察目标和观察者存在关联关系，但是一定程度上违反了OCP

## 优缺点
- 优点
  - 实现了表示层和逻辑层的分离
  - 在观察目标和观察者之间建立了一个抽象耦合
  - 简化了一对多系统的设计
- 缺点
  - 观察者较多的话，花费系统资源多
  - 观察者和观察目标如果存在循坏依赖的话，会导致系统崩溃